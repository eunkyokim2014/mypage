<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>영화 메타데이터 테스트</title>

  <!-- ✅ SheetJS (xlsx) CDN: 브라우저에서 엑셀 읽기/쓰기 -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <main class="container">
    <header class="header">
      <h1>영화 메타데이터 테스트</h1>
      <p class="sub">
        제목을 입력하거나 엑셀 파일을 업로드해서 KMDB/OMDb 데이터를 확인하세요.
      </p>
    </header>

    <section class="card">
      <div class="form-grid">
        <div class="field">
          <label for="movie-title">단일 영화 제목</label>
          <input id="movie-title" type="text" placeholder="예: 올드보이" />
        </div>

        <div class="field">
          <label for="movie-file">엑셀 파일 업로드</label>
          <input id="movie-file" type="file" accept=".xlsx,.xls" />
          <div class="hint">첫 번째 시트의 A열(첫 번째 열)에 영화 제목만 입력하세요.</div>
        </div>
      </div>

      <div class="actions">
        <button id="search-title" class="btn primary">제목으로 검색</button>
        <button id="search-file" class="btn">파일로 검색</button>
        <button id="reset" class="btn ghost">초기화</button>
      </div>

      <div id="status" class="status">대기 중...</div>

      <a id="download" class="download" hidden>엑셀 다운로드</a>
    </section>

    <section class="card">
      <h2>빠른 테스트 가이드</h2>
      <ol class="guide">
        <li>로컬 서버 실행: <code>python -m http.server 8000</code></li>
        <li>브라우저 접속: <code>http://localhost:8000</code></li>
        <li>제목 검색 또는 엑셀 업로드 후 결과 확인</li>
      </ol>
      <p class="small">
        ※ KMDB/OMDb 호출은 브라우저 CORS 때문에 프록시가 적용되어 있습니다.
      </p>
    </section>

    <section class="card">
      <h2>검색 결과</h2>
      <div id="result" class="result"></div>
    </section>
  </main>

  <script type="module" src="./app.js"></script>
</body>
</html>
